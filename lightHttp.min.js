"use strict";(function(){var a={parseUrl:function(b){var g,c,e,k,m,l;var f,h,j,d={};f=/(https?):\/\/([a-z0-9][a-z0-9\-\.]+[a-z0-9])(:[0-9]+)?(\/[^\?]*)\??(.*)/i;j={port:80,protocol:"",host:"",path:"",param:""};h=b.match(f);if(h&&h[2]){j.protocol=h[1].toLowerCase();j.host=h[2]}if(h&&h[3]&&h[3]!="undefined"){j.port=parseInt(h[3].substr(1),10)}else{if("https"===j.protocol){j.port=443}}if(h&&!h[4]){j.path="/"}else{j.path=h[4]}if(h&&h[5]){e=h[5].split(/&/);c=e.length;for(g=0;g<c;g++){k=e[g].indexOf("=");m=e[g].substr(0,k);l=e[g].substr(k+1,e[g].length-k-1);if(d[m]){if(Object.prototype.toString.call(d[m])==="[object Array]"){d[m].push(l)}else{d[m]=[d[m],l]}}else{d[m]=l}}j.param=d}return j},stringifyParam:function(d){var c=[];for(var b in d){c.push(b+"="+encodeURIComponent(d[b]))}return c.join("&")},addParams:function(b,d){var c;c=this.stringifyParam(d);if(!c){return b}if(b.match(/\?/)){b+="&"}else{b+="?"}b+=c;return b}};if(typeof(window)!="undefined"){window.lightHttpLib=a}else{module=module.exports=a}}());"use strict";(function(){function a(){if(!window.lightHttpLib){console.log("Missing library named window.lightHttpLib")}this.jsonpIndex=1;this.lightHttpLib=window.lightHttpLib;this.timeout=15000;this.jsonpCallbackList={}}var b=a.prototype;b.get=function(c,d){c=this.lightHttpLib.addParams(c,d);window.location.href=c};b.post=function(d,g){var f,e,c;f=document.createElement("form");f.action=d;f.method="POST";for(e in g){if(!g.hasOwnProperty(e)){continue}c=document.createElement("input");c.name=e;c.value=g[e];f.appendChild(c)}document.body.appendChild(f);f.submit()};b.ajax=function(){var d=["ajax","GET"];for(var e=0,c=arguments.length;e<c;e++){d.push(arguments[e])}this.request.apply(this,d)};b.ajaxpost=b.ajaxPost=function(){var d=["ajaxPost","POST"];for(var e=0,c=arguments.length;e<c;e++){d.push(arguments[e])}this.request.apply(this,d)};b.pajax=function(){var d=["pjax","GET"];for(var e=0,c=arguments.length;e<c;e++){d.push(arguments[e])}this.request.apply(this,d)};b.jsonp=function(e,g,i,h){var d,f,c;if(!g){g={}}this.cleanJsonpCallback();c=this;f="lightHttp_jsonp_"+this.jsonpIndex+"_"+(new Date).getTime();g.callback=f;window[f]=function(j){h(j,{});c.jsonpCallbackList[f]=1};this.jsonpCallbackList[f]=0;e=this.lightHttpLib.addParams(e,g);if(typeof(i)=="function"){h=i}d=document.createElement("script");d.src=e;document.body.appendChild(d);this.jsonpIndex++};b.request=function(){var m="GET",q,c,g,k,d,p,e="",h=true,s={};var n,r;var o=["name","type","url","param","header","callback"],j,f,l={};if(!arguments){return""}if(arguments[0]){d=arguments[0]}if(arguments[1]){m=arguments[1]}if(arguments[2]){c=arguments[2]}if(arguments[3]){g=arguments[3]}if(arguments[4]){if(typeof(arguments[4])=="function"){p=arguments[4]}else{k=arguments[4]}}if(arguments[5]){if(typeof(arguments[5])=="function"){p=arguments[5]}else{s=arguments[5]}}if(arguments[6]){p=arguments[6]}if(p){l.callback=p}if(g){l.param=g}q=this.instantiateRequest();n=this.responseHandler.bind(this,l);r=this.timeoutHandler.bind(this,l);if(s.timeout){q.timeout=s.timeout}else{q.timeout=this.timeout}q.ontimeout=r;q.onreadystatechange=n;e=this.lightHttpLib.stringifyParam(g);if(m==="POST"){q.open(m,c,h);q.setRequestHeader("Content-type","application/x-www-form-urlencoded");q.send(e)}else{if(c.match(/\?/)){c+="&"+e}else{c+="?"+e}q.open(m,c,h);q.send()}};b.instantiateRequest=function(){var d;if(window.XMLHttpRequest){d=new XMLHttpRequest();if(d.overrideMimeType){d.overrideMimeType("text/xml")}}else{if(window.ActiveXObject){try{d=new ActiveXObject("Msxml2.XMLHTTP")}catch(c){try{d=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){}}}}return d};b.responseHandler=function(d,e){var g="",c={},f;f=e.target;if(f.readyState==4){c=f;g=f.responseText;if(d.callback){d.callback(g,c)}}};b.timeoutHandler=function(c){};b.jsonpHander=function(){};b.cleanJsonpCallback=function(){var c;for(c in this.jsonpCallbackList){if(this.jsonpCallbackList[c]===1){delete window[c]}}};window.lightHttp=a}());